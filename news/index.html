<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • pool</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.5/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pool</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.6.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/why-pool.html">Why pool?</a>
    <a class="dropdown-item" href="../articles/pool-dplyr.html">Using pool with dplyr</a>
    <a class="dropdown-item" href="../articles/advanced-pool.html">Advanced usage</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rstudio/pool/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/rstudio/pool/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="pool-development-version">pool (development version)<a class="anchor" aria-label="anchor" href="#pool-development-version"></a></h2>
<ul><li><p>New <code><a href="../reference/poolCheckout.html">localCheckout()</a></code> checkouts and then automatically returns an object. It only works in function scope.</p></li>
<li><p>Pools now get a useful print method (<a href="https://github.com/rstudio/pool/issues/140" class="external-link">#140</a>).</p></li>
<li><p><code><a href="../reference/dbPool.html">dbPool()</a></code>’s <code>validateQuery</code> is now actually used (<a href="https://github.com/rstudio/pool/issues/153" class="external-link">#153</a>).</p></li>
<li><p>Connections are now validated once on first checkout to ensure that the connection and validation strategy are both ok.</p></li>
<li><p>DBI methods should dispatch correctly in more cases; in particular <code><a href="https://dbi.r-dbi.org/reference/dbReadTable.html" class="external-link">dbReadTable()</a></code> and friends will now work correctly when used with <code><a href="https://dbi.r-dbi.org/reference/Id.html" class="external-link">DBI::Id()</a></code> (<a href="https://github.com/rstudio/pool/issues/120" class="external-link">#120</a>).</p></li>
<li><p>pool now implements the dbplyr 2.0.0 interface, eliminating warnings when using pool with dplyr (<a href="https://github.com/rstudio/pool/issues/132" class="external-link">#132</a>).</p></li>
<li><p>Pool errors and warnings have been reviewed with an eye to making them more immediately actionable (<a href="https://github.com/rstudio/pool/issues/145" class="external-link">#145</a>).</p></li>
<li><p>Added support for SAP HANA databases (<a href="https://github.com/marcosci" class="external-link">@marcosci</a>, <a href="https://github.com/rstudio/pool/issues/103" class="external-link">#103</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.6" id="pool-016">pool 0.1.6<a class="anchor" aria-label="anchor" href="#pool-016"></a></h2><p class="text-muted">CRAN release: 2021-01-14</p>
<ul><li><p><code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join()</a></code> and friends once again work with pool objects (<a href="https://github.com/rstudio/pool/issues/111" class="external-link">#111</a>).</p></li>
<li><p><code><a href="../reference/dbPool.html">dbPool()</a></code> objects previously could leak memory. (<a href="https://github.com/rstudio/pool/issues/115" class="external-link">#115</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.5" id="pool-015">pool 0.1.5<a class="anchor" aria-label="anchor" href="#pool-015"></a></h2><p class="text-muted">CRAN release: 2020-11-03</p>
<ul><li><p>dplyr and dbplyr are now Suggests instead of Imports. Thanks, <a href="https://github.com/AkhilGNair" class="external-link">@AkhilGNair</a>! (<a href="https://github.com/rstudio/pool/issues/106" class="external-link">#106</a>)</p></li>
<li><p>When used with dbplyr, <code>tbl</code>s now store a copy of the pool, not a checked out connection. (<a href="https://github.com/rstudio/pool/issues/107" class="external-link">#107</a>)</p></li>
<li><p><code><a href="https://dbi.r-dbi.org/reference/dbListObjects.html" class="external-link">dbListObjects()</a></code>, <code><a href="https://dbi.r-dbi.org/reference/dbCreateTable.html" class="external-link">dbCreateTable()</a></code>, <code><a href="https://dbi.r-dbi.org/reference/dbAppendTable.html" class="external-link">dbAppendTable()</a></code>, <code><a href="https://dbi.r-dbi.org/reference/dbIsReadOnly.html" class="external-link">dbIsReadOnly()</a></code>, <code><a href="https://dbi.r-dbi.org/reference/dbQuoteLiteral.html" class="external-link">dbQuoteLiteral()</a></code>, and <code><a href="https://dbi.r-dbi.org/reference/dbUnquoteIdentifier.html" class="external-link">dbUnquoteIdentifier()</a></code> methods are now implemented for pool objects. (<a href="https://github.com/rstudio/pool/issues/100" class="external-link">#100</a>, <a href="https://github.com/rstudio/pool/issues/109" class="external-link">#109</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.4.3" id="pool-0143">pool 0.1.4.3<a class="anchor" aria-label="anchor" href="#pool-0143"></a></h2><p class="text-muted">CRAN release: 2019-10-03</p>
<ul><li>Previously, pool would always set <code>options(warn=1)</code> when running tasks. It now ensures that the value of <code>warn</code> can be 1 or greater. This can be useful in debugging, so that <code>options(warn=2)</code> can be used. (<a href="https://github.com/rstudio/pool/issues/90" class="external-link">#90</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.4.2" id="pool-0142">pool 0.1.4.2<a class="anchor" aria-label="anchor" href="#pool-0142"></a></h2><p class="text-muted">CRAN release: 2019-01-07</p>
<ul><li>Update unit test for compatibility with future dbplyr. (<a href="https://github.com/rstudio/pool/issues/82" class="external-link">#82</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.4.1" id="pool-0141">pool 0.1.4.1<a class="anchor" aria-label="anchor" href="#pool-0141"></a></h2><p class="text-muted">CRAN release: 2018-06-29</p>
<ul><li>Change package maintainer</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.4" id="pool-014">pool 0.1.4<a class="anchor" aria-label="anchor" href="#pool-014"></a></h2><p class="text-muted">CRAN release: 2018-03-10</p>
<ul><li>Changed the methods <code><a href="https://dbi.r-dbi.org/reference/dbExistsTable.html" class="external-link">dbExistsTable()</a></code>, <code><a href="https://dbi.r-dbi.org/reference/dbRemoveTable.html" class="external-link">dbRemoveTable()</a></code>, <code><a href="https://dbi.r-dbi.org/reference/dbWriteTable.html" class="external-link">dbWriteTable()</a></code>, <code><a href="https://dbi.r-dbi.org/reference/dbGetQuery.html" class="external-link">dbGetQuery()</a></code>, <code><a href="https://dbi.r-dbi.org/reference/dbExecute.html" class="external-link">dbExecute()</a></code>, <code><a href="https://dbi.r-dbi.org/reference/dbListFields.html" class="external-link">dbListFields()</a></code> and <code><a href="https://dbi.r-dbi.org/reference/dbReadTable.html" class="external-link">dbReadTable()</a></code> to dispatch over the first two arguments, as per the <a href="https://github.com/r-dbi/DBI/blob/master/R/DBConnection.R" class="external-link">default definition in DBI</a>. (<a href="https://github.com/rstudio/pool/issues/57" class="external-link">#57</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.3" id="pool-013">pool 0.1.3<a class="anchor" aria-label="anchor" href="#pool-013"></a></h2><p class="text-muted">CRAN release: 2017-11-03</p>
<ul><li>Use <code><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace("pkg", quietly = TRUE)</a></code> for <code>RMySQL</code> and <code>RSQLite</code> in the examples and tests since these are “Suggests” packages (i.e. not “Depends”). (commit 4205feb)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="pool-012">pool 0.1.2<a class="anchor" aria-label="anchor" href="#pool-012"></a></h2><p class="text-muted">CRAN release: 2017-11-03</p>
<div class="section level4">
<h4 id="minor-new-features-and-improvements-0-1-2">Minor new features and improvements<a class="anchor" aria-label="anchor" href="#minor-new-features-and-improvements-0-1-2"></a></h4>
<ul><li><p>Included more examples in the documentation. (<a href="https://github.com/rstudio/pool/issues/50" class="external-link">#50</a>)</p></li>
<li><p>Fixed the “test-create-destroy.R” test. Previously, this test had to be run manually because it uses <code>later</code> and its async nature could not be captured by <code>testthat</code>. However, using <code><a href="https://rdrr.io/pkg/later/man/run_now.html" class="external-link">later::run_now()</a></code> immediately after the relevant code snippet (i.e. still inside the first argument of <code>expect_*</code>) solves the issue. (<a href="https://github.com/rstudio/pool/issues/50" class="external-link">#50</a>)</p></li>
<li><p>Use <code>difftime(t1, t0, units = "secs")</code> when calculating a time interval. Unlike the simpler <code>t1 - t0</code> method, this guarantees that the result will always be consistently the number of <em>seconds</em>. However, there’s no change when calculating a new time (<em>not</em> a time interval) using <code>t2 &lt;- t1 - interval</code>, since we want <code>t2</code> to be a time, rather than a time interval (which is always what is returned by <code>difftime</code>). (<a href="https://github.com/rstudio/pool/issues/50" class="external-link">#50</a> and <a href="https://github.com/rstudio/pool/issues/48" class="external-link">#48</a>, thank you <a href="https://github.com/caewok" class="external-link">@caewok</a>!)</p></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-1-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-1-2"></a></h4>
<ul><li><p>Fix all dbplyr wrapper functions that weren’t passing in additional arguments because the call to the original <code>dbplyr</code> function included <code>... = ...</code> instead of <code>...</code>. Also, pass <code>temporary = temporary</code> in <code>copy_to.Pool</code>, so that we don’t defeat the whole purpose of that wrapper. (<a href="https://github.com/rstudio/pool/issues/50" class="external-link">#50</a>)</p></li>
<li><p>Change the place where the check for the maximum number of objects is made. Previously, this chunk of code was misplaced and it would result in buggy behavior: namely, once the maximum number of objects was reached, no more objects could be checked out (<strong>even if you returned any/all objects back to the pool</strong>). The only reason this wasn’t spotted earlier is because the default <code>maxSize</code> is <code>Inf</code> (and there’s usually not a good reason to change it). (<a href="https://github.com/rstudio/pool/issues/50" class="external-link">#50</a>)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="pool-011">pool 0.1.1<a class="anchor" aria-label="anchor" href="#pool-011"></a></h2><p class="text-muted">CRAN release: 2017-09-23</p>
<div class="section level4">
<h4 id="breaking-changes-0-1-1">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-1-1"></a></h4>
<ul><li>
<p>Fix <a href="https://github.com/rstudio/pool/issues/39" class="external-link">#39</a>: Moved <code>dplyr</code> support in <code>pool</code> from <code>dplyr</code> 0.5.0 to <code>dplyr</code> 0.7.0, which includes a lot of breaking changes including the addition of a brand new package called <code>dbplyr</code>. (<a href="https://github.com/rstudio/pool/issues/42" class="external-link">#42</a>)</p>
<p>For <code>pool</code> users, the main change is that all the <code>src_*</code> functions are now gone (from <code>dplyr</code> and <code>pool</code>). Therefore, if you had something like:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">src_pool</span><span class="op">(</span><span class="va">pool</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="st">"test"</span><span class="op">)</span></span></code></pre></div>
<p>You can just change it to the simpler:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">pool</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="st">"test"</span><span class="op">)</span></span></code></pre></div>
<p>If you’re still on an old version of <code>dplyr</code> and want to use <code>pool</code> as well, please install the package using the tag created for that purpose:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"rstudio/pool@dplyr-pre-0.7.0-compat"</span><span class="op">)</span></span></code></pre></div>
</li>
<li><p>Changed all time arguments to accept number of <em><strong>seconds</strong></em>, instead of milliseconds. This is because this is what the <code>later</code> package uses and there was no reason for <code>pool</code> to be different, except backward compatibility. Since both time arguments to <code>dbPool</code> (<code>idleTimeout</code> and <code>validationInterval</code>) have default values, we’re hoping this change won’t even be noticed by most users. If you were setting either of those directly, however, you will need to update your app if you update the <code>pool</code> package. (<a href="https://github.com/rstudio/pool/issues/44" class="external-link">#44</a>) <!--Since this release is already breaking backward compatibility, we're going to town!--></p></li>
<li>
<p>Dropped the Pool methods around <code>dbConnect</code> and <code>dbDisconnect</code>, because these made it easier to lose track of whether you’re operating on a Pool object or on a database connection directly. From now on, only these allow you to get a connection from the pool and return it back, respectively: (<a href="https://github.com/rstudio/pool/issues/44" class="external-link">#44</a>)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/poolCheckout.html">poolCheckout</a></span><span class="op">(</span><span class="va">pool</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/poolCheckout.html">poolReturn</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></code></pre></div>
</li>
</ul></div>
<div class="section level4">
<h4 id="new-features-0-1-1">New features<a class="anchor" aria-label="anchor" href="#new-features-0-1-1"></a></h4>
<ul><li>Use <code>later</code> package for scheduling tasks (<a href="https://github.com/rstudio/pool/issues/44" class="external-link">#44</a>). This also has the side effect of fixing <a href="https://github.com/rstudio/pool/issues/40" class="external-link">#40</a> and <a href="https://github.com/rstudio/pool/issues/43" class="external-link">#43</a> since <code>later</code> allows us to get rid of the <code>naiveScheduler</code> completely.</li>
</ul></div>
<div class="section level4">
<h4 id="library-updates-0-1-1">Library updates<a class="anchor" aria-label="anchor" href="#library-updates-0-1-1"></a></h4>
<ul><li>Roxygen 5.0.1 to 6.0.1. (commit <a href="https://github.com/rstudio/pool/issues/9952000" class="external-link">#9952000</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="pool-010">pool 0.1.0<a class="anchor" aria-label="anchor" href="#pool-010"></a></h2>
<ul><li>Initial release!</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by Joe Cheng, Barbara Borges.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

